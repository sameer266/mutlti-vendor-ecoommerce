{% load static %}

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Admin Panel</title>
   

<!-- Google Fonts - Inter for clean, modern admin interface -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        fontFamily: {
          sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
        }
      }
    }
  }
</script>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Data Tables -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<style>
  /* Custom Scrollbar Styles */
  * {
    scrollbar-width: thin;
    scrollbar-color: #1f2937 #f3f4f6;
  }

  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  *::-webkit-scrollbar-track {
    background: #f3f4f6;
    border-radius: 5px;
  }

  *::-webkit-scrollbar-thumb {
    background: #1f2937;
    border-radius: 5px;
    border: 2px solid #f3f4f6;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: #111827;
  }

  /* Horizontal scrollbar */
  *::-webkit-scrollbar-track:horizontal {
    background: #f3f4f6;
  }

  *::-webkit-scrollbar-thumb:horizontal {
    background: #1f2937;
  }

  /* Enhanced font rendering */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
</style>

{% block extra_css %}{% endblock %}

  </head>

  <body class="flex flex-col min-h-screen font-sans">
    {% include 'dashboard/components/navbar.html' %}


<div class="flex flex-1">
  {% include 'dashboard/components/sidebar.html' %}

  <main id="content" class="flex-1 ml-0 md:ml-64 mt-8 pt-16 px-4 md:px-8 overflow-y-auto min-h-screen transition-all duration-300">
    {% block content %}{% endblock %}
  </main>
</div>

<div id="overlay" class="overlay"></div>

<script>
  $(document).ready(function () {
    $("#toggle-sidebar").on("click", function () {
      $("#sidebar").toggleClass("active");
      $("#overlay").toggleClass("active");
    });
    $("#overlay").on("click", function () {
      $("#sidebar").removeClass("active");
      $(this).removeClass("active");
    });

    const currentPath = window.location.pathname;
    $(".sidebar-link-base").each(function () {
      const linkPath = $(this).attr("href");
      if (currentPath === linkPath || (currentPath.startsWith(linkPath) && linkPath !== "/")) {
        $(this).addClass("sidebar-active");
        $(this).closest(".submenu").addClass("active").prev(".dropdown-toggle").addClass("sidebar-active");
      }
    });

    $(window).resize(function () {
      if ($(window).width() > 768) {
        $("#sidebar").removeClass("active");
        $("#overlay").removeClass("active");
      }
    });
  });
</script>

<!-- SweetAlert2 Django Messages -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    {% if messages %}
      {% for message in messages %}
        Swal.fire({
          icon: "{% if message.tags == 'error' %}error{% elif message.tags == 'success' %}success{% elif message.tags == 'warning' %}warning{% else %}info{% endif %}",
          title: "{{ message|escapejs }}",
          toast: true,
          position: 'top-end',
          showConfirmButton: false,
          timer: 3000,
          timerProgressBar: true
        });
      {% endfor %}
    {% endif %}
  });
</script>

{% block extra_js %}{% endblock %}

  </body>
</html>