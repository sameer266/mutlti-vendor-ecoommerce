{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
        <link rel="icon" href="{{organization.logo.url}}" type="image/x-icon">

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Inter:wght@400;500;600;700&family=Merriweather:wght@400;700&family=Outfit:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Toastr CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
    />

    <!-- Toastr JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<!-- Data Tables -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    <style>
      :root {
        --primary: #3b82f6;
        --primary-dark: #456fff;
        --primary-light: #60a5fa;
        --secondary: #4b5563;
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --info: #06b6d4;
        --light: #f3f4f6;
        --dark: #1f2937;
        --white: #ffffff;
        --new-black-light: #344054;
        --new-black-light-opa: #3440543e;
        --new-black-dark: #1d2939;
        --new-blue: #456fff;

        --spacing-xs: 0.25rem;
        --spacing-sm: 0.5rem;
        --spacing-md: 1rem;
        --spacing-lg: 1.5rem;
        --spacing-xl: 2rem;

        --font-family-sans: "Outfit", "Inter", "Segoe UI", "Roboto",
          "Helvetica Neue", "Open Sans", sans-serif;
        --text-xs: 0.75rem;
        --text-sm: 0.875rem;
        --text-base: 1rem;
        --text-lg: 1.125rem;
        --text-xl: 1.25rem;
        --text-2xl: 1.5rem;
        --radius-md: 0.375rem;
        --radius-lg: 0.5rem;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: var(--font-family-sans);
        background-color: var(--light);
        color: var(--new-black-dark);
        line-height: 1.5;
        overflow-x: hidden;
        height: 100vh;
        transition: background-color 0.3s, color 0.3s;
      }

      .navbar {
        background-color: var(--white);
        padding: var(--spacing-sm) var(--spacing-md);
        border-bottom: 1px solid var(--light);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 50;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        height: 4rem;
      }

      .sidebar {
 
        background-color: var(--white);
        border-right: 1px solid var(--light);
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        z-index: 40;
        padding-top: var(--spacing-lg);
        overflow-y: auto;
      }

      .sidebar.active {
        transform: translateX(0);
      }

      .content {
        margin-left: 16rem;
        padding: var(--spacing-lg) var(--spacing-md);
        margin-top: 4rem;
        min-height: calc(100vh - 4rem);
        width: calc(100% - 16rem);
        transition: margin-left 0.3s ease-in-out;
        overflow-y: auto;
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
        .content {
          margin-left: 0;
          width: 100%;
        }
        .sidebar {
          width: 14rem;
        }
      }

      @media (max-width: 768px) {
        .navbar {
          padding: var(--spacing-xs) var(--spacing-sm);
          height: 3.5rem;
        }
        .content {
          margin-top: 3.5rem;
          padding: var(--spacing-md);
        }
        .sidebar {
          width: 12rem;
          padding-top: var(--spacing-md);
        }
        .sidebar.active {
          transform: translateX(0);
        }
      }

      /* Overlay for mobile sidebar */
      .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 30;
      }

      .overlay.active {
        display: block;
      }

      /* Theme Toggle Button */
      .theme-toggle {
        background: none;
        border: none;
        cursor: pointer;
        font-size: var(--text-lg);
        color: var(--new-black-light);
        transition: color 0.3s;
        display: flex;
        align-items: center;
      }

      .theme-toggle:hover {
        color: var(--primary);
      }
    </style>
    {% block extra_css %}{% endblock %}
  </head>
  <body class="flex flex-col min-h-screen">
    <!-- Include the navbar -->
    {% include 'dashboard/components/navbar.html' %}

    <div class="flex flex-1">
      <!-- Include the sidebar -->
      {% include 'dashboard/components/sidebar.html' %}

      <!-- Main content -->
      <main id="content" class="content max-w-5xl mx-auto p-6 lg:pl-8">
        {% block content %}
        <!-- Content will be filled by child templates -->
        {% endblock %}
      </main>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div id="overlay" class="overlay"></div>

    <script>
      $(document).ready(function () {
        // Toggle sidebar (for mobile)
        $("#toggle-sidebar").on("click", function () {
          $("#sidebar").toggleClass("active");
          $("#overlay").toggleClass("active");
        });

        // Close sidebar when clicking overlay
        $("#overlay").on("click", function () {
          $("#sidebar").removeClass("active");
          $(this).removeClass("active");
        });

        // Highlight current page in sidebar
        const currentPath = window.location.pathname;
        $(".sidebar-link-base").each(function () {
          const linkPath = $(this).attr("href");
          if (
            currentPath === linkPath ||
            (currentPath.startsWith(linkPath) && linkPath !== "/")
          ) {
            $(this).addClass("sidebar-active");
            $(this)
              .closest(".submenu")
              .addClass("active")
              .prev(".dropdown-toggle")
              .addClass("sidebar-active");
          }
        });

        // Handle window resize
        $(window).resize(function () {
          if ($(window).width() > 768) {
            $("#sidebar").removeClass("active");
            $("#overlay").removeClass("active");
          }
        });
      });
    </script>
    <script>
  {% if messages %}
    {% for message in messages %}
      toastr.options = {
        "closeButton": true,
        "progressBar": true,
        "positionClass": "toast-top-right",
        "timeOut": "3000"
      };
      {% if message.tags == 'success' %}
        toastr.success("{{ message|escapejs }}");
      {% elif message.tags == 'error' %}
        toastr.error("{{ message|escapejs }}");
      {% elif message.tags == 'warning' %}
        toastr.warning("{{ message|escapejs }}");
      {% else %}
        toastr.info("{{ message|escapejs }}");
      {% endif %}
    {% endfor %}
  {% endif %}
</script>

    {% block extra_js %}{% endblock %}
  </body>
</html>
