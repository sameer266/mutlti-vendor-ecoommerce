<!--  Top Bar (Desktop Only) -->
<div id="top-bar" class="hidden lg:flex fixed top-0 left-0 right-0 bg-gray-800 text-[var(--text-light)] text-sm z-50 shadow-md">
  <div class="container mx-auto flex justify-between items-center px-4 py-2">
    <p>Welcome to Hello Bajar</p>
    <p>Need help? Call us:
      <a href="tel:+{{organization.phone}} class="hover:text-[var(--primary)] font-semibold">
        +{{organization.phone}}
      </a>
    </p>
    <ul class="hidden md:flex space-x-4">
    
  {% if organization.facebook %}
    <a href="{{ organization.facebook }}" target="_blank" class="text-white hover:text-blue-800 transition text-xl">
      <i class="fab fa-facebook"></i>
    </a>
  {% endif %}

  {% if organization.instagram %}
    <a href="{{ organization.instagram }}" target="_blank" class="text-white hover:text-pink-600 transition text-xl">
      <i class="fab fa-instagram"></i>
    </a>
  {% endif %}

  {% if organization.twitter %}
    <a href="{{ organization.twitter }}" target="_blank" class="text-white hover:text-sky-700 transition text-xl">
      <i class="fab fa-twitter"></i>
    </a>
  {% endif %}

  {% if organization.youtube %}
    <a href="{{ organization.youtube }}" target="_blank" class="text-white hover:text-red-700 transition text-xl">
      <i class="fab fa-youtube"></i>
    </a>
  {% endif %}

  {% if organization.tiktok %}
    <a href="{{ organization.tiktok }}" target="_blank" class="text-white hover:text-black transition text-xl">
      <i class="fab fa-tiktok"></i>
    </a>
  {% endif %}


    
    </ul>
  </div>
</div>

<!-- Main Header -->
<header id="main-header" class="bg-white shadow-lg fixed top-9 lg:top-9 left-0 right-0 z-50 transition-all duration-300">
  <div class="hidden lg:flex items-center justify-between container mx-auto px-4 py-3">

    <!-- Logo -->
    <a href="{% url 'home' %}" class="flex items-center">
      <img src="../../../static/Hello_bajar_Logo_1.png" alt="Hello Bajar" class="h-12">
    </a>

    <!-- Category Dropdown -->
    <div class="relative group ">
      <button class="flex items-center px-4 py-2 bg-gray-100 text-gray-900 rounded hover:bg-[var(--bg-brown)] hover:text-white cursor-pointer  transition">
        <i class="fa-solid fa-bars mr-2"></i> Shop by Category
        <i class="fa-solid fa-chevron-down ml-2 text-xs"></i>
      </button>

      <ul class="absolute top-full left-0 bg-white shadow-xl rounded-lg w-64 mt-1 hidden group-hover:block z-50 max-h-96 overflow-y-auto">
        {% for category in categories %}
        <li>
          <a href="{% url 'category_details' category.slug %}" class="flex items-center px-4 py-2 hover:bg-gray-50 space-x-3 transition">
            {% if category.image %}
            <img src="{{ category.image.url }}" class="w-6 h-6 rounded-full object-cover" alt="{{ category.name }}">
            {% else %}
            <i class="fa-solid fa-tag text-[var(--primary)] w-6 h-6"></i>
            {% endif %}
            <span class="truncate text-sm font-medium text-gray-700 hover:text-[var(--primary)]">{{ category.name }}</span>
          </a>
        </li>
        {% empty %}
        <li class="px-4 py-2 text-gray-500">No categories available</li>
        {% endfor %}
      </ul>
    </div>

    <!-- Search -->
    <form action="{% url 'search' %}" method="get" class="flex flex-1 max-w-xl mx-6 border border-gray-300 rounded overflow-hidden shadow-sm">
      <input type="text" name="q" placeholder="Search products..." class="flex-1 px-4 py-2 focus:outline-none text-sm">
      <button type="submit" class="px-4 bg-[var(--bg-brown)] text-white hover:bg-gray-800 cursor-pointer transition">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </form>

    <!-- Account & Cart -->
    <div class="flex items-center space-x-3">
      {% if user.is_authenticated %}
      <a href="{% url 'customer_profile' %}" class="flex items-center gap-2 border border-gray-300 rounded-lg px-3 py-2 hover:bg-[var(--bg-brown)] hover:text-white transition">
        {% if user.profile.avatar %}
        <img src="{{ user.profile.avatar.url }}" class="w-6 h-6 rounded-full object-cover">
        {% else %}
        <i class="fa-regular fa-user text-lg"></i>
        {% endif %}
        <span>{{ user.first_name|default:"User" }}</span>
      </a>
      {% else %}
      <a href="{% url 'login_page' %}" class="border border-gray-300 rounded-lg px-3 py-2 flex items-center gap-2 hover:bg-[var(--bg-brown)] hover:text-white transition">
        <i class="fa-regular fa-user text-lg"></i><span>Account</span>
      </a>
      {% endif %}

      <a href="{% url 'carts' %}" class="relative border border-gray-300 rounded-lg px-3 py-2 flex items-center gap-2 hover:bg-[var(--bg-brown)] hover:text-white transition">
        <i class="fa-solid fa-cart-shopping"></i><span>Cart</span>
        <span id="desktopCartBadge" class="absolute -top-2 -right-2 w-5 h-5 bg-[var(--bg-brown)] text-white text-xs rounded-full flex items-center justify-center">{{ cart_count }}</span>
      </a>
    </div>
  </div>

  <!-- Desktop Nav Menu -->
  <nav class="hidden lg:flex justify-center container mx-auto px-4 py-2 space-x-8 bg-[var(--bg-light)] shadow-inner text-sm font-medium">
    <a href="{% url 'home' %}" class="{% if request.path == '/' %}text-[var(--primary)] font-bold border-b-2 border-[var(--primary)]{% else %}text-gray-600 hover:text-[var(--primary)]{% endif %} pb-1">Home</a>
    <a href="{% url 'all_collections' %}" class="{% if request.path == '/all-collections/' %}text-[var(--primary)] font-bold border-b-2 border-[var(--primary)]{% else %}text-gray-600 hover:text-[var(--primary)]{% endif %} pb-1">All Collections</a>
    <a href="{% url 'vendors' %}" class="{% if request.path == '/vendors/' %}text-[var(--primary)] font-bold border-b-2 border-[var(--primary)]{% else %}text-gray-600 hover:text-[var(--primary)]{% endif %} pb-1">Our Vendors</a>
    <a href="{% url 'new_arrivals' %}" class="{% if request.path == '/new-arrivals/' %}text-[var(--primary)] font-bold border-b-2 border-[var(--primary)]{% else %}text-gray-600 hover:text-[var(--primary)]{% endif %} pb-1">New Arrivals</a>
  </nav>
</header>



<!-- ðŸ“± Mobile Navigation -->
<!-- ðŸ”¹ Top Row: Logo + Search + Cart -->
<div class="lg:hidden fixed top-0 inset-x-0 bg-white shadow-md z-50">
  <div class="flex items-center justify-between px-4 py-2">
    <!-- Logo -->
    <a href="{% url 'home' %}" class="flex items-center">
      <img src="../../../static/Hello_bajar_Logo_1.png" alt="Hello Bajar" class="h-9 w-auto">
    </a>

    <!-- Search -->
    <form action="{% url 'search' %}" method="get" class="flex-1 mx-3">
      <div class="relative">
        <input name="q" type="text" placeholder="Search..."
          class="w-full px-3 py-2 pr-9 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[var(--primary)] outline-none shadow-sm">
        <button type="submit" class="absolute right-2 top-2 text-gray-500 hover:text-[var(--primary)]">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </form>

    <!-- Cart -->
    <a href="{% url 'carts' %}" class="relative p-2 rounded-lg hover:bg-[var(--bg-brown)] hover:text-white transition duration-200">
      <i class="fa-solid fa-cart-shopping text-lg"></i>
      <span id="mobileCartBadge"
        class="absolute -top-1 -right-1 w-4 h-4 bg-[var(--bg-brown)] text-white text-[10px] rounded-full flex items-center justify-center font-semibold">
        {{ cart_count }}
      </span>
    </a>
  </div>
</div>

<!-- ðŸ”¹ Bottom Navigation (Fixed Bottom) -->
<div class="lg:hidden fixed bottom-0 inset-x-0 bg-white border-t border-gray-200 shadow-inner py-2 text-xs font-medium text-gray-700 z-100">
  <div class="flex justify-around items-center">
    <a href="{% url 'home' %}" class="flex flex-col items-center gap-1 transition-all duration-200 {% if request.path == '/' %}text-[var(--primary)] scale-110{% else %}hover:text-[var(--primary)]{% endif %}">
      <i class="fa-solid fa-house text-lg"></i>
      <span>Home</span>
    </a>

    <a href="{% url 'all_collections' %}" class="flex flex-col items-center gap-1 transition-all duration-200 {% if request.path == '/all-collections/' %}text-[var(--primary)] scale-110{% else %}hover:text-[var(--primary)]{% endif %}">
      <i class="fa-solid fa-layer-group text-lg"></i>
      <span>Collections</span>
    </a>

    <a href="{% url 'vendors' %}" class="flex flex-col items-center gap-1 transition-all duration-200 {% if request.path == '/vendors/' %}text-[var(--primary)] scale-110{% else %}hover:text-[var(--primary)]{% endif %}">
      <i class="fa-solid fa-store text-lg"></i>
      <span>Vendors</span>
    </a>

    <a href="{% url 'new_arrivals' %}" class="flex flex-col items-center gap-1 transition-all duration-200 {% if request.path == '/new-arrivals/' %}text-[var(--primary)] scale-110{% else %}hover:text-[var(--primary)]{% endif %}">
      <i class="fa-solid fa-star text-lg"></i>
      <span>New</span>
    </a>

    <a href="{% url 'customer_profile' %}" class="flex flex-col items-center gap-1 transition-all duration-200 {% if request.path == '/profile/' %}text-[var(--primary)] scale-110{% else %}hover:text-[var(--primary)]{% endif %}">
      <i class="fa-regular fa-user text-lg"></i>
      <span>Account</span>
    </a>
  </div>
</div>
